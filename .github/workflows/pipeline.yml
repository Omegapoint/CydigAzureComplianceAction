name: Build and Authenticate
run-name: ${{ github.actor }} is testing out github actions
permissions:
  contents: read
  pages: write
  id-token: write
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup node
        uses: actions/setup-node@v3
      - name: Install dependencies
        run: npm ci
      - name: Compile to Javascript
        run: npm run build
      - name: Run tests
        run: npm run testScript
      - name: Build Action
        run: npm run build
      # - name: 'Az CLI login'
      #   uses: azure/login@v1
      #   with:
      #     client-id: ${{ secrets.AZURE_CLIENT_ID }}
      #     tenant-id: ${{ secrets.AZURE_TENANT_ID }}
      #     subscription-id: ${{ secrets.AZURE_SUBSCRIPTION_ID }}
      # - name: 'Run Azure CLI commands'
      #   run: az account show
      # - name: 'Run Azure Compliance Controls'
      #   uses: ./
      #   with:
      #     subscription: ${{ secrets.AZURE_SUBSCRIPTION_ID }}
      # - name: run command
      #   run: 'echo ${{ inputs.value }}'